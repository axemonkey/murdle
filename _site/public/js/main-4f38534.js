(()=>{var i={categories:4,size:5,labels:["Students","Subjects","Teachers","Grades"],items:[["Bruce","Adrian","Dave","Steve","Nicko","Janick"],["Maths","Chemistry","French","History","Music","Business Studies"],["Mr Bettencourt","Mr Hammett","Dr Malmsteen","Mrs Mustaine","Miss Wylde","Mrs Petrucci"],["A","B","C","D","E","F"]]};var p=e=>{for(let t=0;t<5;t++)e.classList.remove("state".concat(t))},v=e=>{let t=e.querySelectorAll('[data-state="4"]');for(let s of t)d(s,0,!0);x(e)},x=e=>{let t=e.querySelectorAll('[data-state="2"]');for(let s of t){let l=s.dataset.row,o=e.querySelectorAll('[data-row="'.concat(l,'"]'));for(let a of o)a.dataset.state==="0"&&d(a,4,!0);let n=s.dataset.col,u=e.querySelectorAll('[data-col="'.concat(n,'"]'));for(let a of u)a.dataset.state==="0"&&d(a,4,!0)}},w=e=>{let t=e.closest(".box");v(t)},h=(e,t)=>{let s;switch(t){case 1:s="\u274C";break;case 2:s="\u2705";break;case 3:s="\u2753";break;case 4:s="\u2716\uFE0F";break;default:s=" ";break}e.textContent=s},d=(e,t,s)=>{e.dataset.state=t,p(e),e.classList.add("state".concat(t)),h(e,t),s||w(e)},y=e=>{let t=e.closest(".box"),s=t.querySelectorAll('[data-row="'.concat(e.dataset.row,'"][data-state="2"]')),l=t.querySelectorAll('[data-col="'.concat(e.dataset.col,'"][data-state="2"]'));return s.length>0||l.length>0},k=e=>{let t=Number.parseInt(e.dataset.state,10);if(t===1&&y(e))return!1;if(t<4){let s=t+1;s===4&&(s=0),d(e,s)}},C=e=>{let t=document.createElement("div");t.classList.add("labels","labels-size".concat(e.size)),t.id="labels".concat(e.labelsDiv),["0","2a","3"].includes(e.labelsDiv.toString())&&t.classList.add("labels-side"),console.log("labels: ".concat(e.group));let s=document.createElement("div");s.classList.add("group"),s.textContent=e.group,t.append(s);for(let l=0;l<e.size;l++){let o=document.createElement("div");o.classList.add("item","item".concat(l)),o.textContent=e.items[l],t.append(o)}return t},$=e=>{let t=document.createElement("div");t.classList.add("box","box-size".concat(e.size)),t.id="box".concat(e.boxNumber);for(let s=1;s<=e.size;s++)for(let l=1;l<=e.size;l++){let o=document.createElement("div");o.classList.add("cell","state0"),o.dataset.state="0",o.dataset.row=s,o.dataset.col=l,o.dataset.rc="".concat(s,"-").concat(l),o.style.gridRow=s,o.style.gridColumn=l,o.textContent=" ",t.append(o),o.addEventListener("click",n=>{k(n.target)})}return t},z=(e,t)=>{let{labels:s,items:l}=i,o=t||i.size,n=e||i.categories,u=(n-2)*3,a=document.querySelector("#puzzle");a.dataset.cats=n,a.dataset.size=o;for(let c=1;c<=u;c++){let b=$({boxNumber:c,size:o});a.append(b)}for(let c=0;c<n;c++){let r={labelsDiv:c,size:o,group:s[c],items:l[c]},b=C(r);if(a.append(b),["2","3"].includes(c.toString())){let m=r;m.labelsDiv="".concat(r.labelsDiv,"a");let f=C(m);a.append(f)}}},L=()=>{document.querySelector("#puzzle").replaceChildren()},S=()=>{let e=document.querySelector("#categoriesSelect").value,t=document.querySelector("#sizeSelect").value;L(),z(e,t)},q=()=>{console.log("JS loaded"),document.querySelector("#categoriesSelect").addEventListener("change",S),document.querySelector("#sizeSelect").addEventListener("change",S),z()};window.addEventListener("load",q);})();
//# sourceMappingURL=main-4f38534.js.map */
