{
  "version": 3,
  "sources": ["../../assets/js/modules/settings.js", "../../assets/js/main.js"],
  "sourcesContent": ["const settings = {\n\tcategories: 4, // 3 or 4 only\n\tsize: 5, // 3, 4 or 5\n\tlabels: ['Students', 'Subjects', 'Teachers', 'Grades'],\n\titems: [\n\t\t['Bruce', 'Adrian', 'Dave', 'Steve', 'Nicko'],\n\t\t['Maths', 'Chemistry', 'French', 'History', 'Music'],\n\t\t[\n\t\t\t'Mr Bettencourt',\n\t\t\t'Mr Hammett',\n\t\t\t'Dr Malmsteen',\n\t\t\t'Mrs Mustaine',\n\t\t\t'Miss Wylde',\n\t\t],\n\t\t['A', 'B', 'C', 'D', 'E'],\n\t],\n};\n\nexport { settings };\n", "import { settings } from './modules/settings.js';\n\n/*\n\nTODO:\n* input for params\n* URL-ise params\n* CSS for label borders\n\n*/\n\nconst removeStateClass = (target) => {\n\tfor (let number = 0; number < 5; number++) {\n\t\ttarget.classList.remove(`state${number}`);\n\t}\n};\n\nconst clearCrosses = (box) => {\n\tconst crosses = box.querySelectorAll('[data-state=\"4\"]');\n\tfor (const cross of crosses) {\n\t\tsetState(cross, 0, true);\n\t}\n\n\twriteCrosses(box);\n};\n\nconst writeCrosses = (box) => {\n\tconst ticks = box.querySelectorAll('[data-state=\"2\"]');\n\tfor (const tick of ticks) {\n\t\tconst thisRow = tick.dataset.row;\n\t\tconst thisRowCells = box.querySelectorAll(`[data-row=\"${thisRow}\"]`);\n\t\tfor (const rowCell of thisRowCells) {\n\t\t\tif (rowCell.dataset.state === '0') {\n\t\t\t\tsetState(rowCell, 4, true);\n\t\t\t}\n\t\t}\n\n\t\tconst thisCol = tick.dataset.col;\n\t\tconst thisColCells = box.querySelectorAll(`[data-col=\"${thisCol}\"]`);\n\t\tfor (const colCell of thisColCells) {\n\t\t\tif (colCell.dataset.state === '0') {\n\t\t\t\tsetState(colCell, 4, true);\n\t\t\t}\n\t\t}\n\t}\n};\n\nconst setCrosses = (target) => {\n\tconst box = target.closest('.box');\n\tclearCrosses(box);\n};\n\nconst writeCellContent = (target, state) => {\n\tlet cellContent;\n\tswitch (state) {\n\t\tcase 1:\n\t\t\tcellContent = '\u274C';\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tcellContent = '\u2705';\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tcellContent = '\u2753';\n\t\t\tbreak;\n\t\tcase 4:\n\t\t\tcellContent = '\u2716\uFE0F';\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tcellContent = ' ';\n\t\t\tbreak;\n\t}\n\n\ttarget.textContent = cellContent;\n};\n\nconst setState = (target, newState, stop) => {\n\ttarget.dataset.state = newState;\n\tremoveStateClass(target);\n\ttarget.classList.add(`state${newState}`);\n\n\twriteCellContent(target, newState);\n\n\tif (!stop) {\n\t\tsetCrosses(target);\n\t}\n};\n\nconst checkForConflictingTick = (target) => {\n\tconst box = target.closest('.box');\n\tconst ticksInRow = box.querySelectorAll(\n\t\t`[data-row=\"${target.dataset.row}\"][data-state=\"2\"]`,\n\t);\n\tconst ticksInCol = box.querySelectorAll(\n\t\t`[data-col=\"${target.dataset.col}\"][data-state=\"2\"]`,\n\t);\n\tif (ticksInRow.length > 0 || ticksInCol.length > 0) {\n\t\treturn true;\n\t}\n\treturn false;\n};\n\nconst boxClick = (target) => {\n\tconst targetState = Number.parseInt(target.dataset.state, 10);\n\n\tif (targetState === 1) {\n\t\t// red cross\n\t\t// only continue if there is no tick in row or column\n\t\tconst isItFixed = checkForConflictingTick(target);\n\t\tif (isItFixed) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tif (targetState < 4) {\n\t\tlet newState = targetState + 1;\n\t\tif (newState === 4) {\n\t\t\tnewState = 0;\n\t\t}\n\t\tsetState(target, newState);\n\t}\n};\n\nconst buildLabels = (config) => {\n\tconst theLabels = document.createElement('div');\n\ttheLabels.classList.add('labels', `labels-size${config.size}`);\n\ttheLabels.id = `labels${config.labelsDiv}`;\n\n\tif (['0', '2a', '3'].includes(config.labelsDiv.toString())) {\n\t\ttheLabels.classList.add('labels-side');\n\t}\n\tconsole.log(`labels: ${config.group}`);\n\n\tconst labelsGroup = document.createElement('div');\n\tlabelsGroup.classList.add('group');\n\tlabelsGroup.textContent = config.group;\n\ttheLabels.append(labelsGroup);\n\n\tfor (let itemNumber = 0; itemNumber < config.size; itemNumber++) {\n\t\tconst labelsItem = document.createElement('div');\n\t\tlabelsItem.classList.add('item', `item${itemNumber}`);\n\t\tlabelsItem.textContent = config.items[itemNumber];\n\t\ttheLabels.append(labelsItem);\n\t}\n\n\treturn theLabels;\n};\n\nconst buildGrid = (config) => {\n\tconst theBox = document.createElement('div');\n\ttheBox.classList.add('box', `box-size${config.size}`);\n\ttheBox.id = `box${config.boxNumber}`;\n\n\tfor (let rowNumber = 1; rowNumber <= config.size; rowNumber++) {\n\t\tfor (let columnNumber = 1; columnNumber <= config.size; columnNumber++) {\n\t\t\tconst cell = document.createElement('div');\n\t\t\tcell.classList.add('cell', 'state0');\n\t\t\tcell.dataset.state = '0';\n\t\t\tcell.dataset.row = rowNumber;\n\t\t\tcell.dataset.col = columnNumber;\n\t\t\tcell.dataset.rc = `${rowNumber}-${columnNumber}`;\n\t\t\tcell.style.gridRow = rowNumber;\n\t\t\tcell.style.gridColumn = columnNumber;\n\t\t\ttheBox.append(cell);\n\t\t\tcell.addEventListener('click', (event) => {\n\t\t\t\tboxClick(event.target);\n\t\t\t});\n\t\t}\n\t}\n\n\treturn theBox;\n};\n\nconst buildPuzzle = (uCats, uSize) => {\n\tconst { labels, items } = settings;\n\tconst wSize = uSize || settings.size;\n\tconst wCats = uCats || settings.categories;\n\tconst totalBoxes = (wCats - 2) * 3;\n\tconst puzzleHolder = document.querySelector('#puzzle');\n\n\tfor (let boxNumber = 1; boxNumber <= totalBoxes; boxNumber++) {\n\t\tconst config = {\n\t\t\tboxNumber,\n\t\t\tsize: wSize,\n\t\t};\n\n\t\tconst boxGrid = buildGrid(config);\n\t\tpuzzleHolder.append(boxGrid);\n\t}\n\n\tfor (let labelsDiv = 0; labelsDiv < wCats; labelsDiv++) {\n\t\tconst config = {\n\t\t\tlabelsDiv,\n\t\t\tsize: wSize,\n\t\t\tgroup: labels[labelsDiv],\n\t\t\titems: items[labelsDiv],\n\t\t};\n\n\t\tconst labelsBox = buildLabels(config);\n\t\tpuzzleHolder.append(labelsBox);\n\n\t\tif (['2', '3'].includes(labelsDiv.toString())) {\n\t\t\tconst newConfig = config;\n\t\t\tnewConfig.labelsDiv = `${config.labelsDiv}a`;\n\t\t\t// console.log(newConfig);\n\t\t\tconst labelsBox = buildLabels(newConfig);\n\t\t\tpuzzleHolder.append(labelsBox);\n\t\t}\n\t}\n};\n\nconst deletePuzzle = () => {\n\tdocument.querySelector('#puzzle').replaceChildren();\n};\n\nconst rebuild = () => {\n\tconst cs = document.querySelector('#categoriesSelect').value;\n\tconst ss = document.querySelector('#sizeSelect').value;\n\n\tdeletePuzzle();\n\tbuildPuzzle(cs, ss);\n};\n\nconst init = () => {\n\tconsole.log('JS loaded');\n\n\tdocument\n\t\t.querySelector('#categoriesSelect')\n\t\t.addEventListener('change', rebuild);\n\tdocument.querySelector('#sizeSelect').addEventListener('change', rebuild);\n\n\tbuildPuzzle();\n};\n\nwindow.addEventListener('load', init);\n"],
  "mappings": "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",
  "names": ["settings", "removeStateClass", "target", "number", "clearCrosses", "box", "crosses", "cross", "setState", "writeCrosses", "ticks", "tick", "thisRow", "thisRowCells", "rowCell", "thisCol", "thisColCells", "colCell", "setCrosses", "writeCellContent", "state", "cellContent", "newState", "stop", "checkForConflictingTick", "ticksInRow", "ticksInCol", "boxClick", "targetState", "buildLabels", "config", "theLabels", "labelsGroup", "itemNumber", "labelsItem", "buildGrid", "theBox", "rowNumber", "columnNumber", "cell", "event", "buildPuzzle", "uCats", "uSize", "labels", "items", "settings", "wSize", "wCats", "totalBoxes", "puzzleHolder", "boxNumber", "boxGrid", "labelsDiv", "labelsBox", "newConfig", "deletePuzzle", "rebuild", "cs", "ss", "init"]
}
