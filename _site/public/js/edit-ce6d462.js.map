{
  "version": 3,
  "sources": ["../../assets/js/modules/settings.js", "../../assets/js/modules/tools.js", "../../assets/js/edit.js"],
  "sourcesContent": ["const defaults = {\n\tcategories: 4, // 3 or 4 only\n\tsize: 5, // 3, 4 or 5... 6?\n\tlabels: ['Students', 'Subjects', 'Teachers', 'Grades'],\n\titems: [\n\t\t['Adrian', 'Bruce', 'Dave', 'Nicko', 'Steve'],\n\t\t['Chemistry', 'French', 'History', 'Maths', 'Music'],\n\t\t[\n\t\t\t'Mr Bettencourt',\n\t\t\t'Mrs Hammett',\n\t\t\t'Dr Malmsteen',\n\t\t\t'Mr Mustaine',\n\t\t\t'Miss Wylde',\n\t\t],\n\t\t['A', 'B', 'C', 'D', 'E'],\n\t],\n};\n\nconst constants = {\n\tMAX_CATS: 4,\n\tMAX_SIZE: 6,\n};\n\nexport { defaults, constants };\n", "import { defaults } from './settings.js';\n\nconst getParam = (param) => {\n\tconst q = document.location.search;\n\tif (q) {\n\t\tconst p = new URLSearchParams(q);\n\t\tif (p) {\n\t\t\tconst d = p.get(param);\n\t\t\tif (d) {\n\t\t\t\tconst j = JSON.parse(d);\n\t\t\t\tconsole.log('woop');\n\t\t\t\tconsole.log(j);\n\t\t\t\treturn j;\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n};\n\nconst getDataObjFromURL = () => {\n\tconst data = getParam('data');\n\tlet dataObj;\n\n\tif (!data.categories || !data.size) {\n\t\tdataObj = structuredClone(defaults);\n\t} else {\n\t\tdataObj = data;\n\t}\n\n\treturn dataObj;\n};\n\nexport { getDataObjFromURL };\n", "import { constants } from './modules/settings.js';\nimport { getDataObjFromURL } from './modules/tools.js';\n\nlet locals = undefined;\n\n/*\n\nTODO:\n* validate form (no empty text fields)\n* probably a help button\n* \"load example\" button that loads the defaults\n\n*/\n\nconst populateForm = () => {\n\t// console.log(locals);\n\tconst numCats = locals.categories;\n\tconst numItems = locals.size;\n\n\tdocument.querySelector('#numCategories').value = numCats;\n\tdocument.querySelector('#numItems').value = numItems;\n\n\tfor (let wCat = 0; wCat < constants.MAX_CATS; wCat++) {\n\t\tconst wLabel = document.querySelector(`[for=\"category-${wCat}\"]`);\n\t\tconst wInput = document.querySelector(`#category-${wCat}`);\n\t\tconst wSection = document.querySelector(`[data-items=\"items-${wCat}\"]`);\n\n\t\twInput.value = locals.labels[wCat];\n\t\twSection.querySelector('p').textContent = locals.labels[wCat];\n\n\t\tif (wCat < numCats) {\n\t\t\twLabel.classList.remove('hide');\n\t\t\twInput.classList.remove('hide');\n\t\t\twSection.classList.remove('hide');\n\t\t} else {\n\t\t\twLabel.classList.add('hide');\n\t\t\twInput.classList.add('hide');\n\t\t\twInput.value = '';\n\t\t\twSection.classList.add('hide');\n\t\t}\n\n\t\tfor (let wItem = 0; wItem < constants.MAX_SIZE; wItem++) {\n\t\t\tconst wItemLabel = document.querySelector(\n\t\t\t\t`[for=\"category-${wCat}-item-${wItem}\"]`,\n\t\t\t);\n\t\t\tconst wItemInput = document.querySelector(\n\t\t\t\t`#category-${wCat}-item-${wItem}`,\n\t\t\t);\n\n\t\t\twItemInput.value = '';\n\t\t\tif (locals.items[wCat] && locals.items[wCat][wItem]) {\n\t\t\t\twItemInput.value = locals.items[wCat][wItem];\n\t\t\t}\n\n\t\t\tif (wItem < numItems) {\n\t\t\t\twItemLabel.classList.remove('hide');\n\t\t\t\twItemInput.classList.remove('hide');\n\t\t\t} else {\n\t\t\t\twItemLabel.classList.add('hide');\n\t\t\t\twItemInput.classList.add('hide');\n\t\t\t\twItemInput.value = '';\n\t\t\t}\n\t\t}\n\t}\n\n\tparseForm();\n};\n\nconst parseForm = () => {\n\tconsole.log('parseForm');\n\n\tconst data = {\n\t\tlabels: [],\n\t\titems: [],\n\t};\n\tdata.categories = document.querySelector('#numCategories').value;\n\tdata.size = document.querySelector('#numItems').value;\n\n\t// const labelInputs = document.querySelectorAll(`[id^=\"category\"]`);\n\tconst labelInputs = document.querySelectorAll('#categoriesFieldset input');\n\tlabelInputs.forEach((labelInput) => {\n\t\tdata.labels.push(labelInput.value);\n\t});\n\n\tfor (let wCat = 0; wCat < data.categories; wCat++) {\n\t\tconst itemValues = [];\n\t\tconst itemInputs = document.querySelectorAll(\n\t\t\t`[data-items=\"items-${wCat}\"] input`,\n\t\t);\n\t\titemInputs.forEach((itemInput) => {\n\t\t\titemValues.push(itemInput.value);\n\t\t});\n\t\tdata.items.push(itemValues);\n\t}\n\n\tconsole.log(data);\n\n\tconst saveLink = document.querySelector('#saveLink');\n\t// const dataParam = encodeURIComponent(JSON.stringify(data));\n\tconst dataParam = JSON.stringify(data);\n\t// const currentHref = saveLink.getAttribute('href');\n\t// console.log(`original link href: ${currentHref}`);\n\tconsole.log(dataParam);\n\tsaveLink.setAttribute('href', `/?data=${dataParam}`);\n};\n\nconst setupFormEvents = () => {\n\tconst inputs = document.querySelectorAll('[type=\"text\"]');\n\tconst selects = document.querySelectorAll('select');\n\n\tinputs.forEach((input) => {\n\t\tinput.addEventListener('change', parseForm);\n\t});\n\tselects.forEach((select) => {\n\t\tselect.addEventListener('change', (event) => {\n\t\t\tconst element = event.target;\n\t\t\tconst field = element.dataset.field;\n\t\t\tconsole.log(field);\n\t\t\tlocals[field] = element.value;\n\t\t\tpopulateForm();\n\t\t});\n\t});\n};\n\nconst init = () => {\n\tconsole.log('JS loaded');\n\n\tconst dataObj = getDataObjFromURL();\n\tlocals = dataObj;\n\n\tpopulateForm();\n\tsetupFormEvents();\n};\n\nwindow.addEventListener('load', init);\n"],
  "mappings": "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",
  "names": ["defaults", "constants", "getParam", "param", "q", "p", "d", "j", "getDataObjFromURL", "data", "dataObj", "defaults", "locals", "populateForm", "numCats", "numItems", "wCat", "constants", "wLabel", "wInput", "wSection", "wItem", "wItemLabel", "wItemInput", "parseForm", "data", "labelInput", "itemValues", "itemInput", "saveLink", "dataParam", "setupFormEvents", "inputs", "selects", "input", "select", "event", "element", "field", "init", "getDataObjFromURL"]
}
